language: python
python:
- 3.6
sudo: required
env:
  global:
  - secure: EMb8cXBUkt383f5/570ymoAyF53jitd9Z38bUW27+LaxhLyoElI4rSwrTVNdLRd8BHm/yRVFsE73CJ4GB/QUJa+uWYeFcLLx9IYofgNlQfMMTug6LBhcsDukEBOhI2PpDAN8qzOz27qV6ovfQc8o+raAfUpL2o3OulT/o4T5x19h6bhFRxYGaYEWU2z+XdzAePVVBOoZMCtQh1uY3dUL5oxq5wL+Ow+2bANJz0Y5SNB3CG414XmHuEEP/qh19C8NhUFIYknwctYLRFVWr7/+AgGLKtHkSmCLcWuossOeONLqrsceLxJVKRzHsvFQ/7P22Y1yG/F6cEQmIuG0Jd7ub9nS7yZVZPhrj31zTVDY7M63nys+FlmKBRzOmHMEGIthuxm+XbXKUblf4WtXU3sU35W8vP9jpZjUzxktpmX5A6mzbRSF8zlYA30goT/xh9XgxPiurH+zQkgU4buvgjFdChLFoaaBFkK7n8U7hyrQGo7ia4X+JJsSWarKN2Ni6HZY0MRTPMUTtaVWAKF7mLvlhwcmEj5klH6QtuVd4yttyn1nYFKy1FYJOd7/RTK4ohd++Nu5HjXkTvUCIfMqb1+m9w/2mOscqWcRrqnD5HHq5JVqaBNzv5U7hwh9dFBTuzII7XFnQOp5xXGfxzZUF8X3SM9jyCRYL4pLm7JhheYRZ1A=
  - secure: rqxbvZnAZRkf6sp93KtjwoB8ROihOV/9IBBJVh2ZepjCH3/nSbhhhETgXI8u6H26AHS46/A1ccrQy4xBVbjtdVMM/xYEaf/oNtCNIhv0zF14X2FanzlEcmWBlZW5UsmCKnZfMnCkumaw7WZSZxMvjgDzw0RSV4NxobnXW+9yPbY5U/VSFvs/bfMN2z2f3hZA8pfPYWF/u+YNHCEiWNrloE6+/cls1xRnNzqxeNUhVPi6hqDg0KgbhnZrKcg/TYZKrLpyFqkX31stccK1GicJ9hLasqMojGCRn+kNaCVgvl7ertk80zzHwo12XYK68VO10TcXOnUWwJRfo8FZ3tlW64cRL3DxF3X7STx2Nd3qmiQvLgTzSlcuYGkIIXvw5NOxCy8WeAlipRGp14I6SncBEdq/uEko58JAoPVER7SzfU0NtAIiddwIyf/7+fsTc2Yhf8MN3AB8PJktNgVx/aMT/OlCShGwyJ8RAi9nj6LRtuw9123vaUk3I8ekqXKsRNcaMMVTQCk5Tt93z3l6JvXAVVNL7GAknKIuht7zZaks7UIspseTcyCJtXxkuR5IxCEUMwlTCANjiqBYgFBaKGa8+4EgFaD9bWpgSxDGLwPNA+lWKxt8layWXb6/Kh2y1SS4ZwNLzA1PKIQpy8xk+djjlIDZ1rY/OveZIHlhtaDKOX0=
install:
- nvm install 10
- nvm use 10
- pip install transifex-client
- 'curl https://raw.githubusercontent.com/hasadna/reportit-scripts/master/tools/prepare_github.sh > prepare_github.sh'
- npm install
- npm install -g @angular/cli@7.1.3
script:
- ". extract_i18n.sh"
- tx push --source
- tx pull --mode sourceastranslation -l ar,en,am,ru
deploy:
  skip_cleanup: true
  provider: script
  script: "./travis_deploy.sh"
  on:
    branch: master
